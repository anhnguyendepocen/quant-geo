---
title: "Introduction"
author: "James B. Elsner"
output: github_document
---

August 28, 2018

"**The goal is to provide analytical tools that will last students a lifetime.**''---Edward Tufte

* After this lesson you will know what this class is about, how you will be graded, and how to install R and RStudio on your laptop.

## Syllabus

### Contact Information

* Professor James B. Elsner, Bellamy Building, Room 323a
* Lesson Hours: TR 8:00-9:15 a.m.
* Office Hours: TR 9:15-10:30 a.m. & 2-3 p.m. (& by appointment)

Email: <jelsner@fsu.edu>

Important links:

* [Canvas](https://cas.fsu.edu/cas/login)
* [GitHub](https://github.com/jelsner/quant-geo)
* [Twitter](https://twitter.com/JBElsner)
* [Research Website](http://myweb.fsu.edu/jelsner/_site/)

### Materials

Students need to bring a laptop computer with R and RStudio installed to each class.

### Short Description

This course is an introduction to data science and statistical thinking for geographers using the R programming language. Access to R will be done through Notebooks within the RStudio environment.

### Learning Outcomes

The course has the following expected learning outcomes:

* Factual: You will acquire basic knowledge of data science. You will become familiar with the terminology used to describe data and the procedures and outcomes applied to visualizing, wrangling, and drawing conclusions from data.

* Conceptual: You will develop an understanding of some of the statistical tools and when to apply them in data analysis and modeling. You will cultivate a first-order understanding of the motivations, advantages, and disadvantages for different methods and how uncertainties in the data and methods propagate through your analysis.

* Procedural: You will learn how to use R to analyze, graph, and model data. You will learn how to work within RStudio to create reproducible science. You will learn how to analyze data statistically. You will be able to interpret the results of your model. You will be able to determine the significance of effects. You will learn enough R to be able to build on this knowledge throughout your career.

* Meta cognitive: You will recognize the potential of data science and some of its limitations. You will be able to identify reasonable statistical inferences. You will gain an appreciation for the importance of open-source science.

I expect you to have some understanding of basic statistical concepts like mean, standard deviation, and correlation. Everything you will do in this class will be done using R/RStudio.

There is _no required textbook_ but you are responsible for working through and understanding the code that will be given in each lesson.

### Grading Policies

Grades are determined by two exams (each worth 40%) and several (4-6) assignments cumulatively worth 20%. There are NO make-up exams. Class attendance is expected, but not required. Late assignments are not accepted. Assignments and exams will be done using R markdown and submitted to me in digital format. No extra credit will be given.

Grade | Score | Standard
------|-------|---------
A     | 93-100| Outstanding; few if any errors/omissions
B     | 85-93 | Good; only minor errors/omissions
C     | 75-85 | Satisfactory; minor and a few major errors
D     | 65-75 | Poor; many major errors and omissions

**I will use plus and minus grades.**

### Academic Honor Code

http://www.eng.fsu.edu/~peterson/fsuhc.html

### Students With Disabilities Act

Students needing academic accommodation should: (1) register with and provide documentation to the Student Disability Resource Center; (2) bring a letter to me indicating the need for accommodation and what type. This should be done sometime during the first week of classes.

### Syllabus Change Policy

This syllabus is a guide for the course and is subject to change with advanced notice. The exam dates/times are firm.

### Schedule (subject to change with notice)

Week | Day      | Date         | Topic
-----|----------|--------------|------
1    | Tuesday  | August 28    | Introduction (Mr. Fricker)
1    | Thursday | August 30    | RStudio and R 
2    | Tuesday  | September 4  | Using R
2    | Thursday | September 6  | Data and Data Frames
3    | Tuesday  | September 11 | Grammar for Data
3    | Thursday | September 13 | Grammar for Data
4    | Tuesday  | September 18 | Grammar for Graphs
4    | Thursday | September 20 | Grammar for Graphs
5    | Tuesday  | September 25 | Maps in R (ggplot2)
5    | Thursday | September 27 | Maps in R (tmap)
6    | Tuesday  | October 2    | Review for First Exam
6    | Thursday | October 4    | FIRST EXAM
7    | Tuesday  | October 9    | Bayesian Data Analysis
7    | Tuesday  | October 11   | Bayesian Data Analysis
8    | Tuesday  | October 16   | Regression
8    | Thursday | October 18   | Regression
9    | Tuesday  | October 23   | NO CLASS (out of town)
9    | Thursday | October 25   | NO CLASS (out of town)
10   | Tuesday  | October 30   | Regression
10   | Thursday | November 1   | Classification & Regression Trees
11   | Tuesday  | November 6   | Logistic Regression
11   | Thursday | November 8   | Quantile Regression
12   | Tuesday  | November 13  | Grammar for Spatial Data
12   | Thursday | November 15  | Geographic Regression
13   | Tuesday  | November 20  | NO CLASS (out of town)
13   | Thursday | November 22  | NO CLASS (Thanksgiving)
14   | Tuesday  | November 27  | Spatial Autocorrelation
14   | Thursday | November 29  | Spatial Regression
15   | Tuesday  | December 4   | Spatial Regression
15   | Thursday | December 6   | Review for Second Exam
16   | Friday   | December 14  | SECOND EXAM (3-5p)

## Data Science

Data science (statistics) must be done on a computer. You have two choices: use a spreadsheet or code with a programming language. 

Being able to code is an increasingly important skill. 

A spreadsheet is convenient (at least at first), but it is ultimately limiting and hampers three properties that are essential for scientific data analysis: *Reproducibility*, *Communication*, *Automation*.

### Reproducibility

If your analysis is to be convincing to others, the trail from the data you started with to the final output must be made available.

It is difficult to do this with a spreadsheet. It is easy to make mistakes (e.g., accidentally sorting just a column rather than the entire table).

Your scientific paper describing the result of an analysis is advertisement for a specific claim. But the `proof` is the procedure that was used to obtain the result. The code should be the exact procedure.

### Communication

Code is the grammar of communicating what you did. It is not just to get a computer to do what you want it to do but to communicate with other scientists and to your future self.

It is difficult to explain precisely what you did when working with a spreadsheet. Click here, then right click here, then choose menu X, etc. The words we use to describe these procedures are not standard.

Code is an efficient way to communicate because all important information is given as plain text without ambiguity.

### Automation

If you've made a GIS map you know how difficult it is to recreate it with a new set of data.

This is common in science since data are frequently updated. 

During data preparation and exploration you are likely to find problems.

Running computer code with new data is simple.

## The R programming language

R is the leading open source statistical programming language.

R is free, open-source, runs on Windows, Macs, etc. Excellent graphing capabilities. Powerful, extensible, and relatively easy to learn syntax. Thousands of functions.

Limited graphical user interface (GUI) meaning it is harder to learn at the outset. No commercial support. It's a programming language so you need to appreciate syntax issues. 

Common metaphors for working with computers are: browsers, iTunes, Excel, Word, etc. R is nothing like these. It is easy to forget commands. There are no visual cues: A blank screen is intimidating.  Itâ€™s not the easiest language to learn but once you get the hang of the basic syntax the data analytic floodgates open. R is generative, like a written language.  

R allows you to take advantage of the availability of new, cutting edge applications in emerging statistical fields. For geographers this is apparent in applied spatial statistics.

Also, an increasing number of scientists are reporting results in the context of R, and it's important to know what they are talking about.  Most of the world's leading statisticians use and contribute to R.

### Get R

Go to [Get R](http://www.r-project.org) --> Click on CRAN (Comprehensive R Archive Network) --> Scroll to a mirror site. If you are using Windows --> base --> R-***.exe --> Save File. Do this now.

Click on the download icon and follow the instructions to install R. Use the default options.

### Dynamic report generation

Combining R with **RStudio** allows you to generate reports on the fly.

A common practice in writing scientific reports is to (1) import data into a software package, (2) run a procedure to get the results, (3) copy and paste selected pieces of the result in a document program, and (4) add a few descriptions of the results to finish.

Problems:

1. error-prone because there are many manual steps to the workflow;
2. the manual steps are tedious (copying/pasting results between documents);
3. workflow is hard to record when it involves spreadsheets, therefore it is difficult to reproduce;
4. a change to the data requires you to go through the same procedure again, which can take nearly the same amount of time and effort as the original effort;
5. the analysis and writing are typically mixed together, so your attention has to be paid to synchronizing the parts.

A dynamic report is generated automatically from code. Just like a software package has its source code, a dynamic report has its source as a mix of code and text. 

When you compile the source report, the code is executed and placed in the output; you get a final report that contains code and the human readable text. 

Because you manage only one document, you are free from many of the problems above. For example, you can change a single parameter in the code, that produces an updated report.

**RStudio** helps you generate dynamic reports from your R session. In this class you will use RStudio to create answer sheets for your homework and exams. You can use it to take notes during class. 

### Get RStudio

Click on [Get RStudio](http://rstudio.org) --> Download RStudio Desktop --> Install and open RStudio. Do this now.

After opening RStudio you should see your window separate into four panes. The upper left pane is the markdown file (`01-Lesson.Rmd`), the upper right pane contains the environment and history panels, the lower right pane contains the plots, packages, etc panels, and the lower left is the R console.

### Install a package

The first thing we will do is create a graph using the functions in the **ggplot2** package. Packages are pieces of code for doing certain things. The **ggplot2** package has code pieces for making nice graphs.

Two steps:

1. Download the package from CRAN.

This is done by selecting the `Packages` tab  in the lower right panel. Select `Install` then type the name of the package `ggplot2`. Note: That is the same as typing `install.packages("ggplot2")` in the console.

2. Make the code available to your particular R session. This is done by issuing the `library(ggplot2)` command in the console. Here we want to make this command part of the markdown file so we delinate the command from the text by placing triple graves (`) followed by {r} before the command and triple graves after the command.
```{r}
library(ggplot2)
```

R has thousands of packages. We will use some of them this semester.

Installing gets the package from CRAN and puts it on your local computer. The `library(ggplot2)` makes all the code from the package available to your **current** R session.

NOTE: Step (1) is done once. Step (2) must be done everytime you open an new R session.

### Examine some data

We will use the `airquality` data frame. It is a built-in data set in the **datasets** package that was loaded as part of the base R installation. The data set contains daily air quality measurements from New York City during May through September 1973. Type:
```{r}
head(airquality)
```

This gives the first 6 (default) rows of the data frame. The data set contains ozone concentration (ppm), solar radiation, wind speed, temperature (F), month and day.

The data frame is a table (matrix) of values. The `dim()` function gives the size (number of rows and columns).
```{r}
dim(airquality)
```

```{r}
length(airquality$Ozone)
```

### Make a graph

Here we are interested in the question, is ozone concentration higher on warmer days? Before we compute statistics we should plot the data.
```{r}
ggplot(data = airquality, aes(x = Temp, y = Ozone)) +
  geom_point()
```

* Describe what you see. 
* What does the warning mean?
* Is ozone concentration higher on windy days? Hint: Make another plot to answer this question.
